# 大群后台管理系统 - supergroup-admin

## 需求列表-预期的页面结构

> 就是一个普通の管理后台结构，左侧是主要功能列表菜单，右侧是主要的操作界面，文档后面有几个参考图

### 未登录页面

直接提示未登录，然后跳转到
Mixin 授权登录页，流程是一个 OAuth 流程

### 登录后默认进入群管理-群列表页

> 所有功能都是需要登录授权的，如果接口 401 了就去授权登陆。

> 所有的删除，更新等等更改数据的操作，需要有一个 Dialog 二次确认的过程。

- 群管理 #1
  - 群列表
    - 一个 Table 页，分页的群列表
    - 行上展示一些基础信息，最右固定展示 2 个按钮，分别是 开启/停止 群，详情
    - 开启/停止 按钮点击修改对应群的状态和切换按钮文案
    - 详情 跳转到详情页
  - 群详情页
    - 通过群列表点击跳转过来/url 带上 groud_id 打开页面
    - 展示群的各种基本信息
    - 右上角编辑按钮 删除按钮，和 发消息 按钮
    - 点编辑到编辑群信息页，点发消息到群发消息页
  - 新建群
    - 这是一个表单页
    - 页面上列举出来创建一个群需要的各种参数和确定按钮
  - 编辑群信息
    - 这是一个表单页
    - url 上带上 group_id
    - 页面上列举出来群的各种参数，不可修改的参数表单对应项不让修改
    - 新建群和编辑群可以使用同一个页面（比如通过带不带 group_id 区分）
  - 群发消息
    - 上方是一个文本框输入要发送的消息
    - 下方是一个该群的用户列表 table，可复选，带 全选 和 全选当前页 按钮
    - 输入完消息，选好用户，点击确认按钮群发消息
- 用户管理 #2
  - 用户列表
    - 一个 Table 页，分页列表
    - Table 顶部需要有一个搜索框，搜索按钮和重置
    - 列表展示用户的一些基本信息，右侧是一个固定 pin 住的详情页按钮
  - 用户详情页
    - 一个信息展示页，主要是三块信息
    - 基本信息，KYC 信息，银行卡列表
- 商品管理 #2
  - 商品列表
    - 一个 Table 页，分页列表
    - Table 顶部需要有个搜索，以及创建商品按钮
    - 列表展示一些商品的基础信息，右侧固定两个按钮，上下架和详情
  - 详情页
    - 展示商品的各种信息
    - 右上角上下架按钮，更新商品按钮
  - 创建商品
    - 一个表单页
    - 页面列出来各种参数
  - 更新商品
    - 表单页，页面列出各种参数，不可修改的参数表单对应项不可修改
    - 根据传入的 product_id 获取信息，默认填到表单上
- 课程管理 #2
  - 课程列表
    - 一个 Table 页，分页列表，带搜索
    - 行右侧为删除按钮和详情页按钮
    - 右上角需要迁移，复制
    - 迁移和复制在点击后，Table 变成复选状态，增加一个输入框和一个确认迁移/复制的按钮，输入框里输入目标群号，确认后将选中的所有课程迁移/复制到目标群里
  - Recover 页
    - Recover 页是一个默认开启复选状态的 Table 页，默认的每页记录稍微多一些，右上角有一个 恢复课程 按钮
    - Table 展示的是群消息记录，当点击 恢复课程 按钮时，将所有选中的群消息记录 Recover 为一个课程
  - 课程详情页
    - 展示课程的相关信息和状态
    - 右上角操作按钮为迁移和复制，删除
    - 迁移和复制都是在点击之后，弹出一个框，输入目标群号，确认之后将本课程迁移/复制到目标群里
- 营销管理 #3
  - 一次性邀请码
    - 这里是一个表单页
    - 填写一次性邀请码的各种信息，比较特殊的是，这里可能会有三个选择框，分别是选择商品，选择群，选择邀请用户
    - 选择邀请用户是一个复选框
    - 可做成多步表单的形式
    - 生成的邀请码生成一个 csv 记录到本地
    - API 目前只支持一个一个创建，多选创建生成的邀请码可能需要页面起个循环去访问 API 挨个创建，然后合并生成 csv...
  - 新建优惠券
    - 优惠券有 2 种创建类型，一个是生成 N 个券码，一个是指定发给一批用户
    - 对应两种表单页，填写各种优惠券的信息是差不多一样的
    - 指定发给用户是上传一个用户 user_id 列表的文本文件，然后把用户列表读出来创建优惠券
    - 生成券码是填写要生成的券码数量，创建优惠券后提供一个下载按钮，点击下载券码列表（比如一个 csv 文件）
  - 优惠券列表
    - 一个 Table 页，分页列表
    - 需要有搜索按钮和创建商品
    - 列表上展示优惠券的信息，右侧放一个详情按钮
  - 优惠券详情
    - 信息展示页，右上角 删除按钮
    - 主要是两块信息，优惠券的基础信息和使用优惠券的人（一个列表）
- 财务管理 #3
  - 税务管理
    - 默认页面是一个 Profit 记录 Table，Table 有个查询参数是 State，3 个状态可以切换
    - 右上角有个导入按钮，点击之后可以上传一个 csv，导入记录（比如弹一个 dialog，上传文件框+确认按钮）
    - Table 行上面展示具体的 profit 信息，状态，按钮根据状态展示确认计税 / 确认发放
    - 点击确认计税会触发该 profit 的计税，点击确认发放会触发数字货币的 profit 转账
  - 奖励金发放
    - 默认页面是一个 CNY Profit Records Table
    - （导出和 feedback 是单选还是多选操作待确认...但逻辑类似）
    - 单选操作：行右侧加 2 按钮，点按钮就导出或者 feedback 对应记录
    - 多选操作：Table 右上角加俩按钮，导出和 Feedback，点击之后 Table 变为可复选状态，选择完毕后点击确认进行导出/feedback
- 订单管理 #4
  - 订单列表
    - 一个 Table 页，分页列表，带搜索
  - 订单详情
    - 详情页，展示订单的各种信息
- 统计信息 #4
  - 群成员统计
    - 页面是入群人数和活跃人数图表和表格数据
  - 营收统计
    - 页面是群营收图表和表格数据
  - 鼓励奖统计
    - 页面是鼓励奖统计图表和表格数据

## Millstone

> 显然不可能一下子都开发完的，所以会分一些阶段

1. 授权登陆 群组管理 （可以使用，并且对群进行管理）
2. 课程管理 用户管理 商品管理 （可以对课程、用户、商品进行管理）
3. 营销管理 财务管理 （可以进行优惠券和邀请码）
4. 订单管理 统计信息

## 附-普通の管理后台页面参考

![参考1 美术风格及页面结构 Mixin Zone](./imgs/mixin-zone.png)
![参考2 主要是页面结构 Ant Design Pro](./imgs/ant-design-pro.png)

## 原 README 列举的功能点

- 群管理

  - 大群列表
    1. 获取群列表
    2. 获取单个群信息
    3. 更新群信息
    4. 停止群
    5. 开启群
  - 大群配置
    1. 获取群 properties
    2. 更新群 property
    3. 删除群 property

- 用户管理
  - 用户列表
    1. 获取群用户列表(搜索）
    2. 获取用户信息
    3. 获取用户邀请码
  - kyc 信息
    1. 获取用户 kyc 信息
  - 银行卡信息
    1. 获取用户银行卡列表
- 商品管理

  - 商品列表
    1. 获取商品列表(搜索）
    2. 创建商品
    3. 更新商品
    4. 上下架商品

- 优惠券管理
  - 优惠券列表
    1. 获取优惠券列表(搜索）
    2. 创建优惠券
    3. 删除优惠券
- 订单管理
  - 订单列表
    1. 获取订单列表 (搜索）
    2. 获取订单详情
- 课程管理
  - 课程列表
    1. 获取课程信息
    2. 更新课程信息
    3. 删除课程
  - 课程操作
    1. recover 课程
    2. move 课程
    3. copy 课程
- 统计信息
  - 群成员统计
    1. 获取入群人数、活跃人数、
    2. ....
  - 群营收统计
    1. 获取群营收统计信息
  - 鼓励奖统计
    1. 鼓励奖统计
- 财务管理
  - 税务
    1. 导入 profit(比如践行群班长佣金）
    2. 触发计税
    3. 触发数字货币 profit 转账（税务转账和鼓励奖转账)
  - 鼓励奖发放
    1. 获取法币发放记录(搜索）
    2. 导出本次发放记录
    3. 反馈发放结果
